{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Nobleco Supabase Schema",
  "version": 1,
  "tables": [
    {
      "name": "users",
      "schema": "public",
      "columns": [
        { "name": "id", "type": "uuid", "nullable": false, "default": "gen_random_uuid()", "pk": true },
        { "name": "username", "type": "text", "nullable": false, "unique": true },
        { "name": "password_hash", "type": "text", "nullable": true },
        { "name": "role", "type": "text", "nullable": false, "default": "'user'" },
        { "name": "created_at", "type": "timestamptz", "nullable": false, "default": "now()" }
      ],
      "indexes": [
        { "name": "users_username_idx", "columns": ["username"], "unique": false }
      ],
      "policies": []
    }
  ],
  "notes": "If pgcrypto is unavailable, switch to uuid-ossp and uuid_generate_v4()."
}
